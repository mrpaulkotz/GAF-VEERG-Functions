/*
======================================
5: Fertiliser Use
======================================
5.2 Organic fertiliser application
======================================
*/

/* 
--------------------------------------
VEERG_5_2_1_1__1_OrganicFertiliserApplication
Nitrous oxide emissions from organic fertilisers applied to soils for all organic fertiliser types f and all production systems j
EN2O
t CO2-e
MNSoiljf : mass of nitrogen in organic fertiliser type f applied to soils in production system j : kg N
EFiN2O : emission factor for direct nitrous oxide emissions from organic fertiliser applied to soils : kg N2O-N/kg N
CgN2O : factor to convert elemental mass of nitrous oxide to molecular mass: dimensionless
j : production system
f : organic fertiliser type
i : climate zone
GWPN2O : global warming potential for nitrous oxide : t CO2-e / t N2O

--------------------------------------
*/

VEERG_5_2_1_1__1_OrganicFertiliserApplication_GWP
 =LAMBDA(
    EN2O,GWPN2O,
     (EN2O * GWPN2O)
   );

VEERG_5_2_1_1__1_OrganicFertiliserApplication
  =LAMBDA(
    MNSoiljf, EFiN2O, CgN2O,
    MNSoiljf * EFiN2O * CgN2O * 10 ^-3
  )
;

VEERG_5_2_1_1__1_OrganicFertiliserApplication_FunctionName
  =LAMBDA("VEERG_5_2_1_1__1_OrganicFertiliserApplication");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_Title
  =LAMBDA("Nitrous oxide emissions from organic fertilisers applied to soils for all organic fertiliser types f and all production systems j");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_Variable
  =LAMBDA("EN2O");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_Unit
  =LAMBDA("t CO2-e");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_Source
  =LAMBDA("VEERG 2026: 5.2.1.1, Equation (1)");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_NIRReference
  =LAMBDA("National Inventory Report Volume 1, 2023: Equation 3.D.A_4");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_ReadableEquation
  =LAMBDA("EN2O = MNSoiljf * EFiN2O * CgN2O * 10 ^ - 3");

VEERG_5_2_1_1__1_OrganicFertiliserApplication_Arguments
  =LAMBDA(
    MAKEARRAY(7, 2, 
      LAMBDA(r,c, 
        INDEX({
          "MNSoiljf", "mass of nitrogen in organic fertiliser type f applied to soils in production system j : kg N";
          "EFiN2O", "emission factor for direct nitrous oxide emissions from organic fertiliser applied to soils : kg N2O-N/kg N";
          "CgN2O","Factor to convert elemental mass of nitrous oxide to molecular mass : dimensionless";
          "j","Production system";
          "f","Organic fertiliser type";
          "i","Climate zone";
          "GWPN2O","Global warming potential for nitrous oxide : t CO2-e / t N2O"
        }, r, c)
      )
    )
  );


  /* 
--------------------------------------
VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser
Mass of nitrogen in purchased organic fertilisers applied to soils
MNSoiljf
kg
Morganicjf : mass of organic fertiliser type f applied to soils in production system j : kg
FNorganicf : nitrogen fraction of organic fertiliser type f : kg N/kg

--------------------------------------
*/

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser
  =LAMBDA(
    Morganicjf, FNorganicf,
    Morganicjf * FNorganicf
  )
;

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_FunctionName
  =LAMBDA("VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_Title
  =LAMBDA("Mass of nitrogen in purchased organic fertilisers applied to soils");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_Variable
  =LAMBDA("MNSoiljf");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_Unit
  =LAMBDA("kg");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_Source
  =LAMBDA("VEERG 2026: 5.2.1.1, Equation (2)");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_NIRReference
  =LAMBDA("");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_ReadableEquation
  =LAMBDA("MNSoiljf = Morganicjf * FNorganicf");

VEERG_5_2_1_1__2_MassOfNitrogenInOrganicFertiliser_Arguments
  =LAMBDA(
    MAKEARRAY(2, 2, 
      LAMBDA(r,c, 
        INDEX({
          "Morganicjf", "mass of organic fertiliser type f applied to soils in production system j : kg";
          "FNorganicf", "nitrogen fraction of organic fertiliser type f : kg N/kg"
        }, r, c)
      )
    )
  );